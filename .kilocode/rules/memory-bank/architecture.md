# 系统架构

## 核心组件
1. 内存存储引擎
   - 使用map实现快速查找
   - 基于时间过期的缓存机制
2. 并发控制
   - 读写锁实现线程安全
   - 细粒度锁控制
3. 垃圾回收
   - 基于定时器的自动清理
   - 支持自定义过期回调处理

## 数据流向
1. 数据写入 -> 内存map
2. 数据读取 -> 内存map -> 返回结果
3. 过期清理 -> 定时器扫描 -> 调用回调函数

## 性能优化
- 内存预分配
- 批量写入
- 读写分离
- 限制单次清理数量